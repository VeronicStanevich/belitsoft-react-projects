{"version":3,"sources":["store/reducers/index.js","store/reducers/favorite.js","store/reducers/favirotePlayers.js","store/reducers/teams.js","store/reducers/selectedTeam.js","store/middlewares/index.js","store/middlewares/persistantState.js","store/index.js","store/actions/players.js","api/squad.js","components/squad.js","components/user/user.js","api/teams.js","components/teams/teams.js","store/actions/teams.js","index.js"],"names":["combinedReducer","combineReducers","favoriteTeams","teams","action","type","find","id","value","filter","favoritePlayers","players","state","selectedTeamPlayers","middlewareEnhancer","applyMiddleware","thunk","storeAPI","next","result","localStorage","setItem","JSON","stringify","getState","preloadedState","parse","getItem","store","createStore","loadPlayers","dispatch","headers","Headers","append","fetch","method","then","res","json","squad","fetchTeamSquad","Squad","props","useSelector","useDispatch","React","useEffect","team","map","player","className","name","onClick","teamId","User","palyer","getTeams","fetchTeams","responseJSON","catch","alert","Teams","useState","userPage","setUserPage","selectedTeam","setSelectedTeam","event","preventDefault","stopPropagation","href","alt","src","crestUrl","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c968e6ba.chunk.js","sourcesContent":["import {combineReducers} from \"redux\";\nimport {favoriteTeamsReducer} from \"./favorite\";\nimport {teamsReducer} from \"./teams\";\nimport {favoritePlayersReducer} from \"./favirotePlayers\";\nimport {selectedTeamReducer} from \"./selectedTeam\";\n\nexport const combinedReducer = combineReducers({\n    favoriteTeams: favoriteTeamsReducer,\n    favoritePlayers: favoritePlayersReducer,\n    teams: teamsReducer,\n    selectedTeamPlayers: selectedTeamReducer\n});\n\n","export function favoriteTeamsReducer(teams = [], action) {\n    switch (action.type) {\n        case 'favorite/add':\n            if (teams.find(({id}) => id === action.value.id)) {\n                return teams;\n            }\n\n            return [...teams, action.value];\n        case 'favorite/remove':\n            return teams.filter(({id}) => id !== action.value);\n        default:\n            return teams;\n    }\n}","export function favoritePlayersReducer(players = [], action) {\n    switch (action.type) {\n        case 'favorite-player/add':\n            if (players.find(({id}) => id === action.value.id)) {\n                return players;\n            }\n\n            return [...players, action.value];\n        case 'favorite-player/remove':\n            return players.filter(({id}) => id !== action.value);\n        default:\n            return players;\n    }\n}","export function teamsReducer(state = [], action) {\n    switch (action.type) {\n        case 'teams':\n            return action.value;\n        default:\n            return state;\n    }\n}\n\n","export function selectedTeamReducer(players = [], action) {\n    switch (action.type) {\n        case 'selected-team':\n            return action.value;\n        default:\n            return players;\n    }\n}\n\n","import {applyMiddleware} from \"redux\";\nimport thunk from 'redux-thunk';\nimport {localstorageMiddleware} from \"./persistantState\";\n\nexport const middlewareEnhancer = applyMiddleware(thunk, localstorageMiddleware);\n","export const localstorageMiddleware = storeAPI => next => action => {\n    let result = next(action)\n    localStorage.setItem('store-state', JSON.stringify(storeAPI.getState()));\n    return result\n};","import {createStore} from 'redux'\nimport {combinedReducer} from \"./reducers\";\nimport {middlewareEnhancer} from \"./middlewares\";\n\nconst preloadedState = JSON.parse(localStorage.getItem('store-state')) || {};\n\nconst store = createStore(combinedReducer, preloadedState, middlewareEnhancer);\n\nexport default store;\n","import {fetchTeamSquad} from \"../../api/squad\";\n\nexport function loadPlayers(id) {\n    return function (dispatch) {\n        return fetchTeamSquad(id).then(squad => {\n            dispatch({type: 'selected-team', value: squad});\n        });\n    };\n}","export const fetchTeamSquad = (id) => {\n    const headers = new Headers();\n    headers.append('X-Auth-Token', 'f113f557ce2a428e8a46dc9e659212f8');\n\n    return fetch(`https://api.football-data.org/v2/teams/${id}`, {\n        method: 'GET',\n        headers: headers\n    })\n        .then(res => res.json())\n        .then(({squad}) => squad);\n}","import React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {loadPlayers} from \"../store/actions/players\";\n\nexport const Squad = (props) => {\n    const players = useSelector(state => state.selectedTeamPlayers);\n    const favoritePlayers = useSelector(({favoritePlayers}) => favoritePlayers);\n    const dispatch = useDispatch();\n\n    React.useEffect(() => {\n        dispatch(loadPlayers(props.team.id));\n\n        return () => dispatch({type: 'selected-team', value: []});\n    }, []);\n\n    return (\n        players.map(player => (\n            <div key={player.id}\n                 className={`${favoritePlayers.find(({id}) => id === player.id) ? 'team__card_favorite' : ''}`}>\n                <p>{player.name}</p>\n                <button onClick={() => {\n                    dispatch({\n                        type: 'favorite-player/add', value: {\n                            id: player.id, player: player.name, teamId: props.team.id\n                        }\n                    });\n                }}>add player\n                </button>\n                <button onClick={() => {\n                    dispatch({type: 'favorite-player/remove', value: player.id});\n                }}>remove player\n                </button>\n            </div>\n        ))\n    );\n}","import {useSelector} from \"react-redux\";\n\nexport const User = () => {\n    const teams = useSelector(state => state.favoriteTeams);\n    const favoritePlayers = useSelector(state => state.favoritePlayers);\n\n    return (\n        teams.map((team) => {\n            const players = favoritePlayers.filter(({teamId}) => teamId === team.id);\n\n            return (\n                <div key={team.id}>\n                    <h3>{team.name}</h3>\n                    <ul>\n                        {players.map((palyer) => {\n                            return (\n                                <li key={palyer.id}>{palyer.player}</li>\n                            );\n                        })}\n                    </ul>\n                </div>\n            );\n        })\n    );\n};","const fetchTeams = () => {\n    const headers = new Headers();\n    headers.append('X-Auth-Token', 'f113f557ce2a428e8a46dc9e659212f8');\n\n    return fetch('https://api.football-data.org/v2/teams', {\n        method: 'GET',\n        headers: headers\n    })\n        .then(res => res.json())\n}\n\nexport function getTeams() {\n    return fetchTeams()\n        .then(responseJSON => responseJSON.teams)\n        .catch(alert);\n}\n","import React, {useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Squad} from \"../squad\";\nimport {User} from \"../user/user\";\nimport {loadTeams} from \"../../store/actions/teams\";\n\nexport const Teams = () => {\n    const favoriteTeams = useSelector(state => state.favoriteTeams);\n    const teams = useSelector(state => state.teams);\n    const dispatch = useDispatch();\n    const [userPage, setUserPage] = useState(false);\n    const [selectedTeam, setSelectedTeam] = useState(null);\n\n    React.useEffect(() => {\n        dispatch(loadTeams());\n    }, []);\n\n    if (userPage) {\n        return (\n            <div>\n                <button onClick={() => setUserPage(false)}>Back</button>\n                <User/>\n            </div>);\n    }\n\n    if (selectedTeam) {\n        return (\n            <div>\n                <button onClick={() => {\n                    setSelectedTeam(null);\n                }}>Reset team selection\n                </button>\n                <Squad team={selectedTeam}/>\n            </div>);\n    }\n\n    return (\n        <div className=\"teams\">\n            <button onClick={() => {\n                setUserPage(true);\n            }}>Go to user\n            </button>\n            {teams.map((team) => (\n                <div key={team.id}\n                     className={`team__card ${favoriteTeams.find(({id}) => id === team.id) ? 'team__card_favorite' : ''}`}\n                     onClick={(event) => {\n                         event.preventDefault();\n                         setSelectedTeam(team);\n                     }}>\n                    <button onClick={(event) => {\n                        event.stopPropagation();\n                        dispatch({type: 'favorite/add', value: {id: team.id, name: team.name}})\n                    }}>add to favorite\n                    </button>\n                    <button onClick={(event) => {\n                        event.stopPropagation();\n                        dispatch({type: 'favorite/remove', value: team.id})\n                    }}>remove from favorite\n                    </button>\n                    <a className=\"team__link\" href=\"#\">\n                        <img className=\"team__logo\" alt={team.name} src={team.crestUrl}/>\n                        <p>{team.name}</p>\n                    </a>\n                </div>\n            ))}\n        </div>\n    );\n};\n\n// export default connect()(Teams);","import {getTeams} from \"../../api/teams\";\n\nexport function loadTeams() {\n    return function (dispatch) {\n        return getTeams().then((teams) => {\n            dispatch({type: 'teams', value: teams});\n        })\n    };\n}\n","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport {Provider} from \"react-redux\";\nimport store from './store';\nimport {Teams} from \"./components/teams/teams\";\nimport './teams.css';\n\nconst App = () => {\n    return (\n        <Provider store={store}>\n            <Teams/>\n        </Provider>\n    );\n};\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}