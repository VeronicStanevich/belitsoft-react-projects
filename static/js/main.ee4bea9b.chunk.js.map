{"version":3,"sources":["store/reducers/favorite.ts","store/reducers/teams.ts","store/reducers/favirotePlayers.ts","store/reducers/selectedTeamPlayers.ts","store/reducers/index.ts","store/middlewares/index.ts","store/middlewares/persistantState.ts","store/index.ts","api/teams.ts","components/teams/teams.tsx","store/actions/teams.ts","components/user/user.tsx","store/actions/players.ts","api/squad.ts","components/squad.tsx","index.tsx"],"names":["ActionType","combinedReducer","combineReducers","favoriteTeams","teams","action","type","ADD","find","id","value","REMOVE","filter","favoritePlayers","players","player","playerId","state","SET","selectedTeamPlayers","SET_SELECTED_TEAM","middlewareEnhancer","applyMiddleware","thunk","storeAPI","next","result","localStorage","setItem","JSON","stringify","getState","preloadedState","parse","getItem","store","createStore","getTeams","headers","Headers","append","fetch","method","then","res","json","fetchTeams","responseJSON","catch","alert","Teams","useSelector","dispatch","useDispatch","React","useEffect","className","map","team","onClick","event","stopPropagation","name","to","alt","src","crestUrl","User","teamId","palyer","loadPlayers","squad","fetchTeamSquad","String","Squad","props","routerParams","useParams","Number","App","basename","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ee4bea9b.chunk.js","sourcesContent":["import {ITeam} from \"../../interfaces\";\n\nenum ActionType {\n    ADD = 'favorite/add',\n    REMOVE = 'favorite/remove'\n}\n\ninterface IAddTeamAction {\n    type: ActionType.ADD,\n    value: ITeam\n}\n\ninterface IRemoveTeamAction {\n    type: ActionType.REMOVE,\n    value: number\n}\n\ntype IFavoriteTeamReducer = IAddTeamAction | IRemoveTeamAction;\n\nexport function favoriteTeamsReducer(teams = [], action: IFavoriteTeamReducer) {\n    switch (action.type) {\n        case ActionType.ADD:\n            if (teams.find(({id}) => id === action.value.id)) {\n                return teams;\n            }\n\n            return [...teams, action.value];\n        case ActionType.REMOVE:\n            return teams.filter(({id}) => id !== action.value);\n        default:\n            return teams;\n    }\n}","import {ITeam} from \"../../interfaces\";\n\nenum ActionType {\n    SET = 'teams'\n}\n\ninterface ISetTeams {\n    type: ActionType,\n    value: ITeam[]\n}\n\nexport function teamsReducer(state = [], action: ISetTeams) {\n    switch (action.type) {\n        case ActionType.SET:\n            return action.value;\n        default:\n            return state;\n    }\n}\n\n","import {IFavoritePlayer} from \"../../interfaces\";\n\nenum ActionType {\n    ADD = 'favorite-player/add',\n    REMOVE = 'favorite-player/remove'\n}\n\ninterface IFavoritePlayerActionDeleteAction {\n    type: ActionType.REMOVE,\n    value: number\n}\n\ninterface IFavoritePlayerActionAddAction {\n    type: ActionType.ADD,\n    value: IFavoritePlayer\n}\n\ntype IFavoritePlayerAction = IFavoritePlayerActionAddAction | IFavoritePlayerActionDeleteAction;\n\nexport function favoritePlayersReducer(players: IFavoritePlayer[] = [], action: IFavoritePlayerAction) {\n    switch (action.type) {\n        case ActionType.ADD:\n            const player = action.value as IFavoritePlayer;\n\n            if (players.find(({id}) => id === player.id)) {\n                return players;\n            }\n\n            return [...players, action.value];\n        case ActionType.REMOVE:\n            const playerId = action.value as number;\n\n            return players.filter(({id}) => id !== playerId);\n        default:\n            return players;\n    }\n}","import {IPlayer} from \"../../interfaces\";\n\nenum ActionType {\n    SET_SELECTED_TEAM = 'selected-team'\n}\n\ninterface ISetActionType {\n    type: ActionType.SET_SELECTED_TEAM,\n    value: IPlayer[]\n}\n\nexport function selectedTeamPayersReducer(players: IPlayer[] = [], action: ISetActionType) {\n    switch (action.type) {\n        case ActionType.SET_SELECTED_TEAM:\n            return action.value;\n        default:\n            return players;\n    }\n}\n\n","import {combineReducers} from \"redux\";\nimport {favoriteTeamsReducer} from \"./favorite\";\nimport {teamsReducer} from \"./teams\";\nimport {favoritePlayersReducer} from \"./favirotePlayers\";\nimport {selectedTeamPayersReducer} from \"./selectedTeamPlayers\";\n\nexport const combinedReducer = combineReducers({\n    favoriteTeams: favoriteTeamsReducer,\n    favoritePlayers: favoritePlayersReducer,\n    teams: teamsReducer,\n    selectedTeamPlayers: selectedTeamPayersReducer\n});\n\n","import {applyMiddleware} from \"redux\";\nimport thunk from 'redux-thunk';\nimport {localstorageMiddleware} from \"./persistantState\";\n\nexport const middlewareEnhancer = applyMiddleware(thunk, localstorageMiddleware);\n","import { Middleware } from \"redux\";\n\nexport const localstorageMiddleware: Middleware = (storeAPI) =>\n    (next) =>\n        (action) => {\n            let result = next(action)\n            localStorage.setItem('store-state', JSON.stringify(storeAPI.getState()));\n            return result\n        };","import {createStore} from 'redux'\nimport {combinedReducer} from \"./reducers\";\nimport {middlewareEnhancer} from \"./middlewares\";\nimport {IFavoritePlayer, IPlayer, ITeam} from \"../interfaces\";\n\nconst preloadedState = JSON.parse(localStorage.getItem('store-state') || '') || {};\n\nconst store = createStore(combinedReducer, preloadedState, middlewareEnhancer);\n\nexport default store;\n\nexport interface IState {\n    favoriteTeams: ITeam[],\n    favoritePlayers: IFavoritePlayer[],\n    teams: ITeam[],\n    selectedTeamPlayers: IPlayer[]\n}\n","import {ITeam} from \"../interfaces\";\n\nconst fetchTeams = () => {\n    const headers = new Headers();\n    headers.append('X-Auth-Token', 'f113f557ce2a428e8a46dc9e659212f8');\n\n    return fetch('https://api.football-data.org/v2/teams', {\n        method: 'GET',\n        headers: headers\n    })\n        .then(res => res.json())\n}\n\nexport function getTeams(): Promise<ITeam[]> {\n    return fetchTeams()\n        .then(responseJSON => responseJSON.teams)\n        .catch(alert);\n}\n","import React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Link} from 'react-router-dom';\nimport {loadTeams} from \"../../store/actions/teams\";\nimport {ITeam} from \"../../interfaces\";\nimport {IState} from \"../../store\";\n\nexport const Teams: React.FunctionComponent = () => {\n    const favoriteTeams = useSelector<IState, ITeam[]>(state => state.favoriteTeams);\n    const teams = useSelector<IState, ITeam[]>(state => state.teams);\n\n    const dispatch = useDispatch();\n\n    React.useEffect(() => {\n        dispatch(loadTeams());\n    }, []);\n\n    return (\n        <div className=\"teams\">\n            {teams.map((team) => (\n                <div key={team.id}\n                     className={`team__card ${favoriteTeams.find(({id}) => id === team.id) ? 'team__card_favorite' : ''}`}>\n                    <button className=\"team__add_to_favourite\" onClick={(event) => {\n                        event.stopPropagation();\n                        dispatch({type: 'favorite/add', value: {id: team.id, name: team.name}})\n                    }}>add to favorite\n                    </button>\n                    <button className=\"team__remove_from_favourite\" onClick={(event) => {\n                        event.stopPropagation();\n                        dispatch({type: 'favorite/remove', value: team.id})\n                    }}>remove from favorite\n                    </button>\n                    <Link className=\"team__link\" key={team.id} to={`/squad/${team.id}`}>\n                        <img className=\"team__logo\" alt={team.name} src={team.crestUrl}/>\n                        <p>{team.name}</p>\n                    </Link>\n                </div>\n            ))}\n        </div>\n    );\n};\n","import {getTeams} from \"../../api/teams\";\nimport {Dispatch} from \"react\";\n\nexport function loadTeams() {\n    return function (dispatch: Dispatch<unknown>) {\n        return getTeams().then((teams) => {\n            dispatch({type: 'teams', value: teams});\n        })\n    };\n}\n","import {useSelector} from \"react-redux\";\nimport {IFavoritePlayer, ITeam} from \"../../interfaces\";\nimport {IState} from \"../../store\";\nimport {FunctionComponent} from \"react\";\n\nexport const User: FunctionComponent = () => {\n    const teams = useSelector<IState, ITeam[]>(state => state.favoriteTeams);\n    const favoritePlayers = useSelector<IState, IFavoritePlayer[]>(state => state.favoritePlayers);\n\n    return (\n        <>\n            {teams.map((team) => {\n                const players = favoritePlayers.filter(({teamId}) => teamId === team.id);\n\n                return (\n                    <div key={team.id}>\n                        <h3>{team.name}</h3>\n                        <ul>\n                            {players.map((palyer) => {\n                                return (\n                                    <li key={palyer.id}>{palyer.player}</li>\n                                );\n                            })}\n                        </ul>\n                    </div>\n                );\n            })}\n        </>\n    );\n};","import {fetchTeamSquad} from \"../../api/squad\";\nimport {Dispatch} from \"react\";\n\nexport function loadPlayers(id: number) {\n    return function (dispatch: Dispatch<unknown>) {\n        return fetchTeamSquad(String(id)).then(squad => {\n            dispatch({type: 'selected-team', value: squad});\n        });\n    };\n}","import {IPlayer} from \"../interfaces\";\n\nexport const fetchTeamSquad = (id: string): Promise<IPlayer[]> => {\n    const headers = new Headers();\n    headers.append('X-Auth-Token', 'f113f557ce2a428e8a46dc9e659212f8');\n\n    return fetch(`https://api.football-data.org/v2/teams/${id}`, {\n        method: 'GET',\n        headers: headers\n    })\n        .then(res => res.json())\n        .then(({squad}) => squad);\n}","import React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {useParams} from 'react-router-dom';\nimport {loadPlayers} from \"../store/actions/players\";\nimport {IState} from \"../store\";\nimport {IFavoritePlayer, IPlayer} from \"../interfaces\";\n\ninterface IRouterParams {\n    id: string;\n}\n\nexport const Squad: React.FunctionComponent = props => {\n    let routerParams = useParams<IRouterParams>();\n    const players = useSelector<IState, IPlayer[]>(state => state.selectedTeamPlayers);\n    const favoritePlayers = useSelector<IState, IFavoritePlayer[]>(({favoritePlayers}) => favoritePlayers);\n    const dispatch = useDispatch();\n\n    React.useEffect(() => {\n        dispatch(loadPlayers(Number(routerParams.id)));\n\n        return () => {\n            dispatch({type: 'selected-team', value: []})\n        };\n    }, []);\n\n    return (\n        <>\n            {players.map(player => (\n                <div key={player.id}\n                     className={`${favoritePlayers.find(({id}) => id === player.id) ? 'team__card_favorite' : ''}`}>\n                    <p>{player.name}</p>\n                    <button onClick={() => {\n                        dispatch({\n                            type: 'favorite-player/add', value: {\n                                id: player.id, player: player.name, teamId: routerParams.id\n                            }\n                        });\n                    }}>add player\n                    </button>\n                    <button onClick={() => {\n                        dispatch({type: 'favorite-player/remove', value: player.id});\n                    }}>remove player\n                    </button>\n                </div>\n            ))}\n        </>\n    );\n}","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport {Provider} from \"react-redux\";\nimport store from './store';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link\n} from \"react-router-dom\";\nimport {Teams} from \"./components/teams/teams\";\n\nimport './teams.css';\nimport {User} from \"./components/user/user\";\nimport {Squad} from \"./components/squad\";\n\nconst App = () => {\n    return (\n        <Provider store={store}>\n            <Router basename=\"/VeronicStanevich/belitsoft-react-projects/\">\n                <nav>\n                    <ul className=\"router-navigation-list\">\n                        <li className=\"router-navigation-list__item\">\n                            <Link to=\"/\">Teams</Link>\n                        </li>\n                        <li className=\"router-navigation-list__item\">\n                            <Link to=\"/user\">User</Link>\n                        </li>\n                    </ul>\n                </nav>\n                <Switch>\n                    <Route path=\"/squad/:id\">\n                        <Squad />\n                    </Route>\n                    <Route path=\"/user\">\n                        <User/>\n                    </Route>\n                    <Route path=\"/\">\n                        <Teams/>\n                    </Route>\n                </Switch>\n            </Router>\n        </Provider>\n    );\n};\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}