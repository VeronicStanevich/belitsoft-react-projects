(this.webpackJsonpfootball=this.webpackJsonpfootball||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(5),c=n.n(a),i=n(0),o=n.n(i),u=n(2),s=n(3),l=n(7);var d=Object(s.c)({favoriteTeams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"favorite/add":return e.find((function(e){return e.id===t.value.id}))?e:[].concat(Object(l.a)(e),[t.value]);case"favorite/remove":return e.filter((function(e){return e.id!==t.value}));default:return e}},favoritePlayers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"favorite-player/add":return e.find((function(e){return e.id===t.value.id}))?e:[].concat(Object(l.a)(e),[t.value]);case"favorite-player/remove":return e.filter((function(e){return e.id!==t.value}));default:return e}},teams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"teams":return t.value;default:return e}},selectedTeamPlayers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"selected-team":return t.value;default:return e}}}),f=n(14),v=Object(s.a)(f.a,(function(e){return function(t){return function(n){var r=t(n);return localStorage.setItem("store-state",JSON.stringify(e.getState())),r}}})),j=JSON.parse(localStorage.getItem("store-state"))||{},b=Object(s.d)(d,j,v),m=n(12);function h(e){return function(t){return function(e){var t=new Headers;return t.append("X-Auth-Token","f113f557ce2a428e8a46dc9e659212f8"),fetch("https://api.football-data.org/v2/teams/".concat(e),{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){return e.squad}))}(e).then((function(e){t({type:"selected-team",value:e})}))}}var p=function(e){var t=Object(u.c)((function(e){return e.selectedTeamPlayers})),n=Object(u.c)((function(e){return e.favoritePlayers})),a=Object(u.b)();return o.a.useEffect((function(){return a(h(e.team.id)),function(){return a({type:"selected-team",value:[]})}}),[]),t.map((function(t){return Object(r.jsxs)("div",{className:"".concat(n.find((function(e){return e.id===t.id}))?"team__card_favorite":""),children:[Object(r.jsx)("p",{children:t.name}),Object(r.jsx)("button",{onClick:function(){a({type:"favorite-player/add",value:{id:t.id,player:t.name,teamId:e.team.id}})},children:"add player"}),Object(r.jsx)("button",{onClick:function(){a({type:"favorite-player/remove",value:t.id})},children:"remove player"})]},t.id)}))},O=function(){var e=Object(u.c)((function(e){return e.favoriteTeams})),t=Object(u.c)((function(e){return e.favoritePlayers}));return e.map((function(e){var n=t.filter((function(t){return t.teamId===e.id}));return Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:e.name}),Object(r.jsx)("ul",{children:n.map((function(e){return Object(r.jsx)("li",{children:e.player},e.id)}))})]},e.id)}))};function y(){return function(){var e=new Headers;return e.append("X-Auth-Token","f113f557ce2a428e8a46dc9e659212f8"),fetch("https://api.football-data.org/v2/teams",{method:"GET",headers:e}).then((function(e){return e.json()}))}().then((function(e){return e.teams})).catch(alert)}var x=function(){var e=Object(u.c)((function(e){return e.favoriteTeams})),t=Object(u.c)((function(e){return e.teams})),n=Object(u.b)(),a=Object(i.useState)(!1),c=Object(m.a)(a,2),s=c[0],l=c[1],d=Object(i.useState)(null),f=Object(m.a)(d,2),v=f[0],j=f[1];return o.a.useEffect((function(){n((function(e){return y().then((function(t){e({type:"teams",value:t})}))}))}),[]),s?Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:function(){return l(!1)},children:"Back"}),Object(r.jsx)(O,{})]}):v?Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:function(){j(null)},children:"Reset team selection"}),Object(r.jsx)(p,{team:v})]}):Object(r.jsxs)("div",{className:"teams",children:[Object(r.jsx)("button",{onClick:function(){l(!0)},children:"Go to user"}),t.map((function(t){return Object(r.jsxs)("div",{className:"team__card ".concat(e.find((function(e){return e.id===t.id}))?"team__card_favorite":""),onClick:function(e){e.preventDefault(),j(t)},children:[Object(r.jsx)("button",{onClick:function(e){e.stopPropagation(),n({type:"favorite/add",value:{id:t.id,name:t.name}})},children:"add to favorite"}),Object(r.jsx)("button",{onClick:function(e){e.stopPropagation(),n({type:"favorite/remove",value:t.id})},children:"remove from favorite"}),Object(r.jsxs)("a",{className:"team__link",href:"#",children:[Object(r.jsx)("img",{className:"team__logo",alt:t.name,src:t.crestUrl}),Object(r.jsx)("p",{children:t.name})]})]},t.id)}))]})},g=(n(26),function(){return Object(r.jsx)(u.a,{store:b,children:Object(r.jsx)(x,{})})});c.a.render(Object(r.jsx)(g,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.c968e6ba.chunk.js.map