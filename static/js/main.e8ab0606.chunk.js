(this.webpackJsonpfootball=this.webpackJsonpfootball||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r,a,c,i,o=n(1),u=n(5),s=n.n(u),l=n(0),f=n.n(l),d=n(2),v=n(3),j=n(7);!function(e){e.ADD="favorite/add",e.REMOVE="favorite/remove"}(r||(r={})),function(e){e.SET="teams"}(a||(a={})),function(e){e.ADD="favorite-player/add",e.REMOVE="favorite-player/remove"}(c||(c={})),function(e){e.SET_SELECTED_TEAM="selected-team"}(i||(i={}));var m=Object(v.c)({favoriteTeams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.ADD:return e.find((function(e){return e.id===t.value.id}))?e:[].concat(Object(j.a)(e),[t.value]);case r.REMOVE:return e.filter((function(e){return e.id!==t.value}));default:return e}},favoritePlayers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.ADD:var n=t.value;return e.find((function(e){return e.id===n.id}))?e:[].concat(Object(j.a)(e),[t.value]);case c.REMOVE:var r=t.value;return e.filter((function(e){return e.id!==r}));default:return e}},teams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET:return t.value;default:return e}},selectedTeamPlayers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.SET_SELECTED_TEAM:return t.value;default:return e}}}),b=n(14),h=Object(v.a)(b.a,(function(e){return function(t){return function(n){var r=t(n);return localStorage.setItem("store-state",JSON.stringify(e.getState())),r}}})),O=JSON.parse(localStorage.getItem("store-state")||"")||{},p=Object(v.d)(m,O,h),x=n(12);function y(e){return function(t){return function(e){var t=new Headers;return t.append("X-Auth-Token","f113f557ce2a428e8a46dc9e659212f8"),fetch("https://api.football-data.org/v2/teams/".concat(e),{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){return e.squad}))}(String(e)).then((function(e){t({type:"selected-team",value:e})}))}}var E=function(e){var t=Object(d.c)((function(e){return e.selectedTeamPlayers})),n=Object(d.c)((function(e){return e.favoritePlayers})),r=Object(d.b)();return f.a.useEffect((function(){return r(y(e.team.id)),function(){r({type:"selected-team",value:[]})}}),[]),Object(o.jsx)(o.Fragment,{children:t.map((function(t){return Object(o.jsxs)("div",{className:"".concat(n.find((function(e){return e.id===t.id}))?"team__card_favorite":""),children:[Object(o.jsx)("p",{children:t.name}),Object(o.jsx)("button",{onClick:function(){r({type:"favorite-player/add",value:{id:t.id,player:t.name,teamId:e.team.id}})},children:"add player"}),Object(o.jsx)("button",{onClick:function(){r({type:"favorite-player/remove",value:t.id})},children:"remove player"})]},t.id)}))})},_=function(){var e=Object(d.c)((function(e){return e.favoriteTeams})),t=Object(d.c)((function(e){return e.favoritePlayers}));return Object(o.jsx)(o.Fragment,{children:e.map((function(e){var n=t.filter((function(t){return t.teamId===e.id}));return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:e.name}),Object(o.jsx)("ul",{children:n.map((function(e){return Object(o.jsx)("li",{children:e.player},e.id)}))})]},e.id)}))})};function g(){return function(){var e=new Headers;return e.append("X-Auth-Token","f113f557ce2a428e8a46dc9e659212f8"),fetch("https://api.football-data.org/v2/teams",{method:"GET",headers:e}).then((function(e){return e.json()}))}().then((function(e){return e.teams})).catch(alert)}var T=function(){var e=Object(d.c)((function(e){return e.favoriteTeams})),t=Object(d.c)((function(e){return e.teams})),n=Object(d.b)(),r=Object(l.useState)(!1),a=Object(x.a)(r,2),c=a[0],i=a[1],u=Object(l.useState)(null),s=Object(x.a)(u,2),v=s[0],j=s[1];return f.a.useEffect((function(){n((function(e){return g().then((function(t){e({type:"teams",value:t})}))}))}),[]),c?Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:function(){return i(!1)},children:"Back"}),Object(o.jsx)(_,{})]}):v?Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:function(){j(null)},children:"Reset team selection"}),Object(o.jsx)(E,{team:v})]}):Object(o.jsxs)("div",{className:"teams",children:[Object(o.jsx)("button",{onClick:function(){i(!0)},children:"Go to user"}),t.map((function(t){return Object(o.jsxs)("div",{className:"team__card ".concat(e.find((function(e){return e.id===t.id}))?"team__card_favorite":""),onClick:function(e){e.preventDefault(),j(t)},children:[Object(o.jsx)("button",{className:"team__add_to_favourite",onClick:function(e){e.stopPropagation(),n({type:"favorite/add",value:{id:t.id,name:t.name}})},children:"add to favorite"}),Object(o.jsx)("button",{className:"team__remove_from_favourite",onClick:function(e){e.stopPropagation(),n({type:"favorite/remove",value:t.id})},children:"remove from favorite"}),Object(o.jsxs)("a",{className:"team__link",href:"#",children:[Object(o.jsx)("img",{className:"team__logo",alt:t.name,src:t.crestUrl}),Object(o.jsx)("p",{children:t.name})]})]},t.id)}))]})},k=(n(26),function(){return Object(o.jsx)(d.a,{store:p,children:Object(o.jsx)(T,{})})});s.a.render(Object(o.jsx)(k,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.e8ab0606.chunk.js.map